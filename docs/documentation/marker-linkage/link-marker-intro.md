---
layout: doc
title: 点位关联
---

# 点位关联

----

`点位关联` 描述了点位之间的相关性。在学习如何操作点位关联前，如果你对 **有向图** 的概念具备一定了解，会更便于你理解这一功能。

**在一定程度上，点位之间的关联关系可以使用一个有向图来表示。**

## 有向图（Directed Graph）

有向图是一幅具有方向性的图，由 **点集 Vertex，记作 V** 和 **有向边集 Edge，记作 E** 组成，其中点集 V 不能为空集，而边集 E 可以为空集。

假设一个有向图 D 如下图所示：

![有向图][img:directed-graph]

则可知：

$$
\begin{array}{c}
V(D)=\{u,v,w,x\},\\
E(D)=\{(u,v),(v,u),(v,w),(x,v),(x,w)\}.
\end{array}
$$

边集中的元素边是有向的。假定有一个由点 **m** 和 **n** 组成的有向图，若一个边由点 **m** 指向点 **n** ，则记为 **V(D)={m,n}, E(D)={(m,n)}**。

## 名词阐释

1. **关联关系 - Relation**

    关联关系指点位之间存在的相关关系的本身；用有向图的方式阐述的话，则指的是 **有向边** 本身。在下式中，以 `→` 表示：

    $$
    A → B → C → D
    $$

    则在上式中，共存在 3 条关联关系。

- **直接关联 - Directness**

    当两个点位之间被一条有向边相连时，则称这两个点位直接关联。记作：

$$
\begin{array}{c}
V(D) = \{m, n, o, p\},\\
E(D) = \{(m,n),(o,p)\}.
\end{array}
$$

    此时，m 与 n 直接关联，o 与 p 直接关联。

- **间接关联 - Indirectness**

    当两个点位之间不能用一条有向边直接相连时，则称这两个点位间接关联。记作：

$$
\begin{array}{c}
V(D)={m,n,o,p},\\
E(D)={(m,n),(n,o),(o,p)}.
\end{array}
$$

    此时，m 与 o，m 与 p 间接关联。

4. **关联类型 - Type**

    关联类型指的是点位之间存在相关的逻辑关系的形态。分为：

    - **单触发** TRIGGER,
    - **全组触发** TRIGGER_ALL,
    - **任意触发** TRIGGER_ANY,
    - **关联** RELATED,
    - **等价** EQUIVALENT.

5. **关联组 - Group**

    当多个点位之间 **直接/间接** 相关时，它们之间的关联关系就组成了一个关联组（Group）。

    在有向图中，指的是由多个相互连接的有向边构成的集合。

    同一关联组内允许同时存在多条类型不同的关联关系。

## 关联类型

点位关联有以下的关联类型。

1. **单触发（TRIGGER）**

    单触发（TRIGGER）用于描述 **一对一** 的关联关系，指的是：当源点被标记后，触发目标点。

    需要注意的是，TRIGGER 具有方向性。

    **A** `TRIGGER` **B** 指的是 A → B 的触发关系，

    而 **B** `TRIGGER` **A** 方向则完全相反。

    ***【仙灵 → 仙灵之庭】之间的关联关系可用 TRIGGER 表示。***

2. **全组触发（TRIGGER_ALL）**

    全组触发（TRIGGER_ALL）用于描述 **多对一** 的关联关系，指的是：**当且仅当所有** 源点被标记后，才可以触发目标点位；类似逻辑与。

    ***对于需要送回多个仙灵解锁的宝箱，其【每个仙灵之庭 → 宝箱】之间的关联关系可用 TRIGGER_ALL 表示。***

3. **任意触发（TRIGGER_ANY）**

    任意触发（TRIGGER_ANY）用于描述 **多对一** 的关联关系，指的是：**任意一个** 源点被标记后，都可以触发目标点位；类似逻辑或。

4. **关联（RELATED）**

    “关联”（RELATED）关系仅表示着两个点位存在相关关系，**但不进行任何触发操作**。该关联类型很少会用到。

    ***对于【苍漠囿土】地区的 4 个仙灵-仙灵之庭-限时挑战宝箱，其【每个宝箱】之间的关联关系可用 RELATED 表示。***

5. **等价（EQUIVALENT）**

    “等价”（EQUIVALENT）关系表示两个点位 **虽然点位 ID 不同，但实则为同一个点位** 。该关系属于一种平衡组关系。

    > **平衡组关系**：具备该关系的点位之间不存在触发方向的问题，属于互相触发；只要其中一个被标记，等同于所有在组内的点位也被标记。

    在触发机制层面，则具体体现为：“任意一个点位被标记，则可以触发该点位所在的关联组内的所有的点位标记”。

    ***对于跨地区的宝箱（如枫丹 1、枫丹 2 交界地带的限时挑战），其【限时挑战 → 限时挑战】之间的关联关系可用 EQUIVALENT 表示。***


[img:directed-graph]: /imgs/directed-graph.png

